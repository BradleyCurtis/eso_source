{
    "id": "791f116a-bb0b-42a0-9b0b-294a7b36487b",
    "createTime": 1596332064281110,
    "modifiedTime": 1596441114206772,
    "author": "西红柿",
    "postScript": "",
    "name": "公共数字文化工程移动阅读",
    "host": "http://m.ndlib.cn",
    "group": "",
    "contentType": 1,
    "sort": 0,
    "useCryptoJS": true,
    "loadJs": ";1+1;\n\nfunction md5(s){\nreturn CryptoJS.MD5(s).toString();\n}\nfunction encryptByDES(message, key) {\n    var keyHex = CryptoJS.enc.Utf8.parse(key);\n    var encrypted = CryptoJS.DES.encrypt(message, keyHex, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return encrypted.toString()\n}\n//DES加密结束\n\nfunction parsePostFromYUEDU(url){\nvar u=url.split(\"@\");\nreturn JSON.stringify({\n    \"url\": u[0],\n    \"method\": \"POST\",\n    \"body\": u[1],\n    \"headers\": {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n    }\n  });\n}\n;1+1;",
    "userAgent": "",
    "enableDiscover": false,
    "discoverUrl": "",
    "discoverItems": "",
    "discoverList": "",
    "discoverTags": "",
    "discoverName": "",
    "discoverCover": "",
    "discoverAuthor": "",
    "discoverChapter": "",
    "discoverDescription": "",
    "discoverResult": "",
    "enableSearch": true,
    "searchUrl": "@js:\n\n//国家图书馆搜索链接生成\nfunction getUrl() {\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do';\nvar data = {\n    timeStamp: Date.now(),\n    bigType:\"0\",\n    content:keyword,\n    pageSize:10,\n    pageNum:1\n};\nvar key = 'web@hzlq';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: 1,\n    data: encryptByDES(JSON.stringify(data), key),\n    userId: 0,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: md5(data.timeStamp + md5Key)\n}\nreturn result = url + '@cmd=qrySearchList&value=' + encodeURIComponent(JSON.stringify(value));\n}\n//国家图书馆搜索链接生成\nparsePostFromYUEDU(getUrl());",
    "searchItems": "",
    "searchList": "$..resAndMagResult[*].resourceInfo",
    "searchTags": "$.categoryName",
    "searchName": "$.name",
    "searchCover": "$.coverUrl",
    "searchAuthor": "$.author",
    "searchChapter": "",
    "searchDescription": "$.shortIntro",
    "searchResult": "$.resId@js:\n\n//目录链接生成\nfunction getUrl() {\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do';\nvar data = {\n    timeStamp:Date.now(),\n    resourceId:result,\n    pageSize:10000,\n    pageNum:1\n};\nvar key = 'web@hzlq';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: 1,\n    data: encryptByDES(JSON.stringify(data), key),\n    userId: 0,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: md5(data.timeStamp + md5Key)\n}\nreturn result = url + '@cmd=qryChapterList&value=' + encodeURIComponent(JSON.stringify(value));\n}\n//getUrl();\nparsePostFromYUEDU(getUrl());",
    "enableMultiRoads": false,
    "chapterRoads": "",
    "chapterRoadName": "",
    "chapterUrl": "",
    "chapterItems": "",
    "chapterList": "$.returnObject[0].children||$.returnObject",
    "chapterName": "$.chapterName",
    "chapterCover": "",
    "chapterLock": "",
    "chapterTime": "",
    "chapterResult": "$.chapterId@js:\n\n//正文链接生成\nfunction getUrl() {\nvar header=\"@header:{cookie:'GTuuid='}\";\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do';\nvar data = {\n    timeStamp:Date.now(),\n    uaInfo:'1',\n    chapterId:result\n};\nvar key = 'web@hzlq';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: 1,\n    data: encryptByDES(JSON.stringify(data), key),\n    userId: 0,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: md5(data.timeStamp + md5Key)\n}\nreturn result = url + '@cmd=qryChapterDetails&value=' + encodeURIComponent(JSON.stringify(value));\n}\n//getUrl();\nparsePostFromYUEDU(getUrl());",
    "contentUrl": "",
    "contentItems": "$.returnObject[0].content||$.returnObject@css:html",
    "loginUrl": "",
    "cookies": "",
    "viewStyle": 0
}
